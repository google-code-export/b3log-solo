/*
 * Copyright (C) 2010, Liyuan Li
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
(function($){var Bowknot=function(){};$.extend(Bowknot.prototype,{bowknot:{version:"0.0.0.8",author:"lly219@gmail.com"},getDefaults:function(defaults,settings,key){if(key==="styleClass"){if(settings.theme==="default"||settings.theme===undefined){return defaults.styleClass}settings.styleClass={};for(var styleName in defaults[key]){settings.styleClass[styleName]=settings.theme+"-"+defaults.styleClass[styleName]}}else if((key==="height"&&settings[key]!=="auto")||key==="width"){if(settings[key]===null||settings[key]===undefined){return defaults[key]+"px"}else{return settings[key]+"px"}}else{if(settings[key]===null||settings[key]===undefined){return defaults[key]}}return settings[key]},strToInt:function(str){if(!str){return;}return parseInt(str.substring(0,str.length-2))},sortNumber:function(a,b){return a-b},getMaxNumber:function(arr){arr.sort(this.sortNumber);return arr[arr.length-1]},getMinNumber:function(arr){arr.sort(this.sortNumber);return arr[0]},getDate:function(a,b){var c=new Date(a);var d=c.getFullYear(),month=c.getMonth()+1,day=c.getDate(),hours=c.getHours(),seconds=c.getSeconds(),minutes=c.getMinutes();if(month<10){month="0"+month.toString()}if(day<10){day="0"+day.toString()}if(hours<10){hours="0"+hours.toString()}if(minutes<10){minutes="0"+minutes.toString()}if(seconds<10){seconds="0"+seconds.toString()}switch(b){case undefined:return d+"-"+month+"-"+day;break;case 1:return d+"-"+month+"-"+day+" "+hours+":"+minutes+":"+seconds;break;default:return false;break}},ellipsis:function(a,b){var c=0,strTrim=a.replace(/(^\s*)|(\s*$)/g,""),strArray=strTrim.split(""),resultStr="";for(var i=0;i<strArray.length;i++){if(c<b){if(strArray[i]&&strArray[i].match(/[^u4E00-u9FA5]/)){c+=2}else{c++}resultStr+=strArray[i]}}if(strTrim!==resultStr){resultStr+="..."}return resultStr},goTop:function(acceleration,time){acceleration=acceleration||0.1;time=time||16;var x1=0;var y1=0;var x2=0;var y2=0;var x3=0;var y3=0;if(document.documentElement){x1=document.documentElement.scrollLeft||0;y1=document.documentElement.scrollTop||0}if(document.body){x2=document.body.scrollLeft||0;y2=document.body.scrollTop||0}var x3=window.scrollX||0;var y3=window.scrollY||0;var x=Math.max(x1,Math.max(x2,x3));var y=Math.max(y1,Math.max(y2,y3));var speed=1+acceleration;window.scrollTo(Math.floor(x/speed),Math.floor(y/speed));if(x>0||y>0){var invokeFunction="$.bowknot.goTop("+acceleration+", "+time+")";window.setTimeout(invokeFunction,time)}}});$.bowknot=new Bowknot()})(jQuery);
(function($){$.fn.extend({paginate:{version:"0.0.0.3",author:"lly219@gmail.com"}});var g=new Date().getTime();var h="paginate";var j=function(){this._defaults={"styleClass":{"pageCountClass":"paginate-pageCount","goPageClass":"paginate-goPage","inputPageClass":"paginate-inputPage","goPageHoverClass":"paginate-goPageHover","prePageClass":"paginate-prePage","nextPageClass":"paginate-nextPage","prePageDisableClass":"paginate-prePageDisable","nextPageDisableClass":"paginate-nextPageDisable","prePageHoverClass":"paginate-prePageHover","nextPageHoverClass":"paginate-nextPageHover","paginateClass":"paginate-paginate"}}};$.extend(j.prototype,{_attach:function(a,b){if(!a.id){this.uuid++;a.id="dp"+this.uuid}var c=this._newInst($(a));c.settings=$.extend({"errorMessage":"input error!"},b||{});$.data(a,h,c);this._init(a)},_newInst:function(a){var b=a[0].id.replace(/([^A-Za-z0-9_])/g,"\\\\$1");return{id:b}},_getInst:function(a){try{return $.data(a,h)}catch(err){throw"Missing instance data for this paginate";}},_init:function(a){var b=this._getInst(a);var c=b.id,settings=b.settings;$("#"+c).html("<div id='"+c+"Paginate' class='"+this._getDefaults($.paginate._defaults,settings,"styleClass").paginateClass+"'></div>");this._build(a)},_build:function(a){var b=this._getInst(a);var c=b.id,settings=b.settings;var d=this._getDefaults(this._defaults,settings,"styleClass"),pageCount=settings.pageCount,currentPage=settings.currentPage;var e="<$tagStart class='button paginate-page'>                <span class='button-left'></span>                <span class='button-bg'>"+settings.previousPageText+"</span>                <span class='button-right'></span>            </$tagEnd>",nextPageHTML="<$tagStart class='button paginate-page'>                <span class='button-left'></span>                <span class='button-bg'>"+settings.nextPageText+"</span>                <span class='button-right'></span>            </$tagEnd>",pagesHTML="",pageCountHTML="<span class='"+d.pageCountClass+"'>"+currentPage+"/"+pageCount+"</span>",goToPageHTML="<div class='button'>                <span class='button-left'></span>                <span class='button-bg'>                    <input class='"+d.inputPageClass+"' id='"+c+"PaginateInput'/>                </span>                <span class='button-right'></span>            </div>            <a href='javascript:void(0);' class='button' id='"+c+"PaginateSubmit'>                <span class='button-left'></span>                <span class='button-bg'>"+settings.goText+"</span>                <span class='button-right'></span>            </a>";if(currentPage!==1){e=e.replace("$tagStart","a href='javascript:void(0)'").replace("$tagEnd","a")}else{e=e.replace("$tagStart","div").replace("$tagEnd","div")}if(currentPage!==pageCount){nextPageHTML=nextPageHTML.replace("$tagStart","a href='javascript:void(0)'").replace("$tagEnd","a")}else{nextPageHTML=nextPageHTML.replace("$tagStart","div").replace("$tagEnd","div")}switch(settings.type){case"taobao":var f=this._getTaobaoPages(currentPage,pageCount),currentClass="";goToPageHTML="";pageCountHTML="";for(var i=0;i<f.length;i++){if(currentPage===f[i].pageNum){currentClass=" pagination-current-page"}else{currentClass=""}pagesHTML+="<span data-page='"+f[i].pageNum+"' class='pagination-pages"+currentClass+"'>"+f[i].text+"</span>"}break;default:break}$("#"+c+"Paginate").html(e+pagesHTML+nextPageHTML+pageCountHTML+goToPageHTML);this._bindEvent(a)},_getTaobaoPages:function(a,b){var c=[],i=2,len=4,begin=3,end=0,maxEnd=0,pre=0;if(a>=len){begin=a-Math.ceil(len/2);maxEnd=a+Math.ceil(len/2)+1;if(maxEnd<b){end=maxEnd}else{end=b}}else if(a<len){maxEnd=a+Math.ceil(len/2)+1;if(maxEnd<b){end=maxEnd}else{end=b}}if(begin<3){begin=3}for(i=begin;i<=end;i++){c.push({"pageNum":i,"text":i})}if(begin>3){pre=2+(begin-2);c.unshift({"pageNum":pre,"text":"..."})}if(b<2){i=(a===0)?0:1}else{i=2}for(;i>=1;i=i-1){c.unshift({"pageNum":i,"text":i})}if(end<b){pre=end+Math.ceil(len/2);if(pre>b){pre=b}c.push({"pageNum":pre,"text":"..."})}return c},_bindEvent:function(b){var c=this._getInst(b);var d=c.id;$("#"+d+"PaginateInput").bind("keypress",{target:b},function(a){if(a.keyCode===13){$.paginate._goToPageAction(a)}});$("#"+d+"Paginate .pagination-pages").bind("click",{target:b,isPage:true},function(a){$.paginate._goToPageAction(a)});$("#"+d+"PaginateSubmit").bind("click",{target:b},this._goToPageAction);$("#"+d+"Paginate a.paginate-page").bind("click",{target:b,isPage:true},function(a){$.paginate._goToPageAction(a)})},_goToPageAction:function(a){var b=a.data.target;var c=$.paginate._getInst(b);var d=c.id,settings=c.settings;var e=parseInt($("#"+d+"PaginateInput").val());if(a.data.isPage){e=settings.currentPage;var f=a.target.parentNode.innerText?a.target.parentNode.innerText:a.target.parentNode.text;if($.trim(f)===settings.previousPageText){e--}else if($.trim(f)===settings.nextPageText){e++}else{e=parseInt($(a.target).data("page"))}}if(settings.currentPage===e){return}if(e>0&&e<=settings.pageCount){if(settings.bind(e)){settings.currentPage=e;$.paginate._updatePaginate(b)}}else{alert(settings.errorMessage);$("#"+d+"PaginateInput").val("")}},_updatePaginate:function(a,b){if(b){$.extend(this._getInst(a).settings,b)}this._build(a)},_getDefaults:function(a,b,c){if(c==="styleClass"){if(b.theme==="default"||b.theme===undefined){return a.styleClass}b.styleClass={};for(var d in a[c]){b.styleClass[d]=b.theme+"-"+a.styleClass[d]}}else if((c==="height"&&b[c]!=="auto")||c==="width"){if(b[c]===null||b[c]===undefined){return a[c]+"px"}else{return b[c]+"px"}}else{if(b[c]===null||b[c]===undefined){return a[c]}}return b[c]},_destroyPaginate:function(){}});$.fn.paginate=function(a){var b=Array.prototype.slice.call(arguments);if(typeof a==='string'){b.shift();return $.paginate['_'+a+'Paginate'].apply($.paginate,[this[0]].concat(b))}return this.each(function(){$.paginate._attach(this,a)})};$.paginate=new j();window["DP_jQuery_"+g]=$})(jQuery);
(function($){$.fn.extend({table:{version:"0.0.0.7",author:"lly219@gmail.com"}});var n=new Date().getTime();var o="table";var p=function(){this._defaults={"styleClass":{"lineSelectedClass":"table-lineSelected","mainClass":"table-main","bodyClass":"table-body","headerClass":"table-header","lineHoverClass":"table-lineHover","sortClass":"table-sort","sortASCClass":"table-sortASC","sortDESCClass":"table-sortDESC","sortUnASCClass":"table-sortUnactiveASC","sortUnDESCClass":"table-sortUnactiveDESC","oddRowClass":"table-oddRow","evenRowClass":"table-evenRow","subTitleClass":"table-subTitle","subTitleHoverClass":"table-subTitleHover","subTitleShowClass":"table-subTitleShow","subTitleHideClass":"table-subTitleHide","expendRowClass":"table-expendRow","hasExpendClass":"table-hasExpend"}}};$.extend(p.prototype,{_attach:function(a,b){if(!a.id){this.uuid++;a.id="dp"+this.uuid}var c=this._newInst($(a));c.settings=$.extend({length:0,selectedRows:[]},b||{});$.data(a,o,c);this._init(a)},_newInst:function(a){var b=a[0].id.replace(/([^A-Za-z0-9_])/g,"\\\\$1");return{id:b}},_getInst:function(a){try{return $.data(a,o)}catch(err){throw"Missing instance data for this table";}},_init:function(a){var b=this._getInst(a),settings=b.settings;$(a).html("<div class='"+this._getDefaults(this._defaults,settings,"styleClass").mainClass+"' id='"+b.id+"Table'></div>");this._build(a)},_build:function(a){var b=this._getInst(a),settings=b.settings;var c=b.id;var d=this._getDefaults(this._defaults,settings,"styleClass");var e="<div id='"+c+"TableHeader' class='"+d.headerClass+"'></div>"+"<div id='"+c+"TableMain' class='"+d.bodyClass+"' style='height:"+(settings.height?settings.height+"px":"auto")+"'></div>";$("#"+c+"Table").html(e);this._buildHeader(a);if(settings.data){this._buildBody(a);this._bindEvent(a)}if(document.getElementById(c+"TableMain").clientWidth>0){$("#"+c+"TableHeader").width(document.getElementById(c+"TableMain").clientWidth);$(window).resize(function(){$("#"+c+"TableHeader").width(document.getElementById(c+"TableMain").clientWidth)})}},_buildHeader:function(a){var b=this._getInst(a).settings;var c=b.colModel,id=this._getInst(a).id,headerHTML="<table cellpadding='0' cellspacing='0' style='width:100%'><tr>";for(var i=0;i<c.length;i++){var d=id+"_"+c[i].index;if(c[i].minWidth){headerHTML+="<th style='min-width:"+c[i].minWidth+"px;'>"}else{headerHTML+="<th style='width:"+c[i].width+"px;'>"}if(c[i].type==="checkbox"){if(c[i].isLabel){headerHTML+=c[i].text}else{headerHTML+="<input id='"+d+"' onclick=\"DP_jQuery_"+n+".table._selectHeaderCheckbox(this);\" type='checkbox'/></th>"}}else{headerHTML+="<span id='"+d+"'>"+c[i].text?c[i].text:""+"</span></th>"}}$("#"+id+"TableHeader").html(headerHTML+"</tr></table>")},_buildBody:function(a){var b=this._getInst(a).id,settings=this._getInst(a).settings,data=settings.data;var c=this._getDefaults(this._defaults,settings,"styleClass"),bodyHTML="";for(var d=0;d<data.length;d++){if(data[d].groupName!=="all"){bodyHTML+="<div  id='"+b+"SubTitle"+d+"'class='"+c.subTitleClass+"'><div class='left "+c.subTitleShowClass+"'></div><div class='left'>"+data[d].groupName+"</div><div class='clear'></div></div>"}bodyHTML+="<table id="+b+"SubTable"+d+" style='width:100%;' cellpadding='0' cellspacing='0'>"+this._buildData(a,data[d].groupData,d)+"</table>"}$("#"+b+"TableMain").html(bodyHTML)},_buildData:function(a,b,c){var d=this._getInst(a).id,settings=this._getInst(a).settings;var e=settings.colModel,styleClass=this._getDefaults(this._defaults,settings,"styleClass");var f="";for(var i=0;i<b.length;i++){var g=b[i],tBodyHTML="<tbody class='$CLASS'>",trHTML="<tr>",rowClass=styleClass.oddRowClass;if(i%2===1){rowClass=styleClass.evenRowClass}if(settings.expendRow){trHTML='<tr class="'+styleClass.hasExpendClass+'">'}g.uuuid=settings.length++;for(var j=0;j<e.length;j++){var h=e[j].index;var k=g[h],styleHTML=e[j].align?"text-align:"+e[j].align+";":"";if(k===undefined||k===null||$.trim(k)===""){k="&nbsp;"}if(i===0){if(e[j].minWidth){styleHTML+="min-width:"+e[j].minWidth+"px;"}else{styleHTML+="width:"+e[j].width+"px;"}}trHTML+="<td style='"+styleHTML+"'>";if(e[j].type){var l="",isCheckedHTML="",isDisabledHTML="",inputId=d+"_"+h+"_"+c+"_"+i;if(g[h].value){isCheckedHTML="checked='checked'";tBodyHTML=tBodyHTML.replace("$CLASS",styleClass.lineSelectedClass+" "+rowClass);settings.selectedRows.push(g)}if(g[h].disabled){isDisabledHTML="disabled='disabled'"}l="<input name='"+d+"_"+h+"' id='"+inputId+"' type='"+e[j].type+"' onclick=\"DP_jQuery_"+n+".table._selectCheckbox(this);\" "+isCheckedHTML+" "+isDisabledHTML+"/>";k=l}if(e[j].style){k="<div style='"+e[j].style+"'>"+k+"</div>"}trHTML+=k+"</td>"}f+=tBodyHTML.replace("$CLASS",rowClass)+trHTML+"</tr>";if(settings.expendRow){var m=g[settings.expendRow.index];if(m===undefined){m=""}f+="<tr class='none "+styleClass.expendRowClass+" "+rowClass+"'><td colspan='"+e.length+"'>"+m+"</td></tr>"}f+="</tbody>"}return f},_bindEvent:function(b){var c=this._getInst(b);var d=c.id,settings=c.settings,colModel=c.settings.colModel,styleClass=this._getDefaults(this._defaults,settings,"styleClass"),data=settings.data;for(var e=0;e<data.length;e++){if(data[0].groupName!=="all"){$("#"+d+"SubTitle"+e).click(function(){var a=$(this).find("div")[0];if(a.className.indexOf(styleClass.subTitleShowClass)!=-1){a.className=a.className.replace(styleClass.subTitleShowClass,styleClass.subTitleHideClass);$(this).next().hide()}else{a.className=a.className.replace(styleClass.subTitleHideClass,styleClass.subTitleShowClass);$(this).next().show()}if(document.getElementById(d+"TableMain").clientWidth>0){$("#"+d+"TableHeader").width(document.getElementById(d+"TableMain").clientWidth)}if($.browser.version==="6.0"&&document.getElementById(d+"TableMain").scrollHeight>document.getElementById(d+"TableMain").clientHeight){scrollWidth=17;$("#"+d+"TableHeader").width(document.getElementById(d+"TableMain").clientWidth-17)}}).mouseover(function(){this.className=styleClass.subTitleHoverClass}).mouseout(function(){this.className=styleClass.subTitleClass})}var f=settings.bind?settings.bind:[],groupData=data[e].groupData;for(var m=0;m<groupData.length;m++){var g=$($("#"+d+"SubTable"+e+" tbody")[m]);for(var l=0;l<f.length;l++){g.bind(f[l].type,{"groupData":groupData[m],"bindNum":l},function(a){f[a.data.bindNum].action(a,a.data.groupData)})}g.mouseover(function(){if(!$(this).hasClass(styleClass.lineHoverClass)){$("#"+d+" tbody").each(function(){$(this).removeClass(styleClass.lineHoverClass);if($(this).find("tr").length===2){$(this).find("tr")[1].style.display="none"}});$(this).addClass(styleClass.lineHoverClass);if($(this).find("tr").length===2){if($.browser.msie){if($.browser.version<8){$(this).find("tr")[1].style.display="block"}}else{$(this).find("tr")[1].style.display="table-row"}}}});for(var j=0;j<colModel.length;j++){if(colModel[j].bind){var h=colModel[j].bind;for(var i=0;i<h.length;i++){$(g.find("td")[j]).bind(h[i].type,{"groupData":groupData[m],"bindNum":i,"colNum":j},function(a){colModel[a.data.colNum].bind[a.data.bindNum].action(a,a.data.groupData)})}}}}}},_selectHeaderCheckbox:function(a){var b=a.id.split("_")[0],index=a.id.split("_")[1];var c=$("#"+b).data(o).settings;var d=c.data,styleClass=this._getDefaults(this._defaults,c,"styleClass");for(var i=0;i<d.length;i++){var e=d[i].groupData;for(var j=0;j<e.length;j++){var f=$("#"+b+"_"+index+"_"+i+"_"+j);if(f.attr("disabled")===undefined||f.attr("disabled")===false){if(a.checked){f.attr("checked","checked");c.selectedRows.push(e[j])}else{f.removeAttr("checked");c.selectedRows.splice(j,1)}}}}if(a.checked){$("#"+b+"TableMain tbody").addClass(styleClass.lineSelectedClass)}else{$("#"+b+"TableMain tbody").removeClass(styleClass.lineSelectedClass)}$.unique(c.selectedRows)},_selectCheckbox:function(a){var b=a.id.split("_")[0],index=a.id.split("_")[1],groupNum=a.id.split("_")[2],rowNum=a.id.split("_")[3];var c=$("#"+b).data(o).settings;var d=c.data,styleClass=this._getDefaults(this._defaults,c,"styleClass"),$checkbox=$("#"+b+"_"+index),$row=$($("#"+b+"SubTable"+groupNum+" tbody")[rowNum]);if(a.checked){$row.addClass(styleClass.lineSelectedClass);c.selectedRows.push(d[groupNum].groupData[rowNum])}else{$row.removeClass(styleClass.lineSelectedClass);for(var j in c.selectedRows){if(c.selectedRows[j].uuuid===d[groupNum].groupData[rowNum].uuuid){c.selectedRows.splice(j,1)}}}if(c.selectedRows.length===c.length){$checkbox.attr("checked","checked")}else{$checkbox.removeAttr("checked")}},_getRow:function(a,b,c){var d={};for(var e in b){var f=b[e].groupData;for(var g in f){if(c===f[g].uuuid){d.data=f[g];d.$row=$($("#"+a+"SubTable"+e+" tbody")[g])}}}return d},_getDefaults:function(a,b,c){if(c==="styleClass"){if(b.theme==="default"||b.theme===undefined){return a.styleClass}b.styleClass={};for(var d in a[c]){b.styleClass[d]=b.theme+"-"+a.styleClass[d]}}else{if(b[c]===null||b[c]===undefined){return a[c]}}return b[c]},_strToInt:function(a){if(!a){return false}return parseInt(a.substring(0,a.length-2))},_updateTable:function(a,b,c){var d=this._getInst(a);var e=d.id,settings=d.settings;if(!c){if(b.height){var f=b.height;$("#"+e+"TableMain").height(f);settings.height=f}else{settings.data=b.data;this._build(a)}}else{var g=settings.data,colModel=settings.colModel;var h=this._getRow(e,g,b);$.extend(h.data,c);for(var i=0;i<colModel.length;i++){if(colModel[i].type!=="checkbox"){var j=colModel[i].index;h.$row.find("td")[i].innerHTML=h.data[j]?h.data[j]:"&nbsp;"}}if(settings.expendRow){$(h.$row.find("tr")[1]).find("td").html(c[settings.expendRow.index]?c[settings.expendRow.index]:"&nbsp;")}}},_getRowsTable:function(a,b,c){var d=this._getInst(a);var e=d.settings;if(!b){return e.selectedRows}var f=[];for(var i=0;i<e.data.length;i++){var g=e.data[i].groupData;for(var h in g){if(g[h][b]===c){f.push(g[h])}}}return f},_destroyTable:function(a){var b=this._getInst(a);$.removeData(a,o);$("#"+b.id).remove()},_selectedTable:function(a,b){var c=this._getInst(a);var d=c.id,settings=c.settings;var e=c.settings.data,styleClass=this._getDefaults(this._defaults,settings,"styleClass");for(var f in e){var g=e[f].groupData;for(var h in g){if(b===g[h].uuuid){settings.selectedRows.push(g[h]);$.unique(settings.selectedRows);var i=$($("#"+d+"SubTable"+f+" tbody")[h]);i.addClass(styleClass.lineSelectedClass);i.find("input").attr("checked","checked")}}}},_unSelectedTable:function(a,b){var c=this._getInst(a);var d=c.id,settings=c.settings;var e=c.settings.data,styleClass=this._getDefaults(this._defaults,settings,"styleClass");for(var f in e){var g=e[f].groupData;for(var h in g){if(b===g[h].uuuid){var j=settings.selectedRows;for(var i=0;i<j.length;i++){if(j[i].uuuid===b){j.splice(i,1)}}var k=$($("#"+d+"SubTable"+f+" tbody")[h]);k.removeClass(styleClass.lineSelectedClass);k.find("input").removeAttr("checked")}}}}});$.fn.table=function(a){var b=Array.prototype.slice.call(arguments);if(typeof a==='string'){b.shift();return $.table['_'+a+'Table'].apply($.table,[this[0]].concat(b))}return this.each(function(){$.table._attach(this,a)})};$.table=new p();window["DP_jQuery_"+n]=$})(jQuery);
(function($){$.fn.extend({dialog:{version:"0.0.1.4",author:"lly219@gmail.com"}});var m=new Date().getTime();var n='dialog';var o=function(){this._defaults={"styleClass":{"background":"dialog-background","panel":"dialog-panel","main":"dialog-main","footer":"dialog-footer","headerLeft":"dialog-header-left","headerRight":"dialog-header-right","headerMiddle":"dialog-header-middle","headerBg":"dialog-header-bg","closeIcon":"dialog-close-icon","closeIconHover":"dialog-close-icon-hover","title":"dialog-title","buttonRight":"dialog-button-right"}}};$.extend(o.prototype,{_attach:function(a,b){if(!a.id){this.uuid++;a.id='dp'+this.uuid}var c=this._newInst($(a));c.settings=$.extend({},b||{});$.data(a,n,c);this._init(a)},_newInst:function(a){var b=a[0].id.replace(/([^A-Za-z0-9_])/g,'\\\\$1');return{id:b}},_getInst:function(a){try{return $.data(a,n)}catch(err){throw'Missing instance data for this dialog';}},_destroyDialog:function(a){var b=$.dialog._getInst(a);var c=b.id;$.removeData(a,n);$(a).prependTo("#"+c+"Wrap").unwrap();$(a).removeAttr("style");var d=this._getDefaults($.dialog._defaults,b.settings,"styleClass");$("."+d.background).remove();$("#"+c+"Dialog").remove()},_init:function(b){var c=this._getInst(b);var d=c.id,settings=c.settings;var e=this._getDefaults($.dialog._defaults,settings,"styleClass"),height=settings.height,width=settings.width;settings.title=settings.title?settings.title:"";settings.okText=settings.okText?settings.okText:"Ok";settings.cancelText=settings.cancelText?settings.cancelText:"Cancel";var f="",headerHTML="<div class='"+e.headerLeft+"'></div><div class='"+e.headerBg+"' style='width: "+(width+18)+"px;'><div class='"+e.title+"'>"+settings.title+"</div><a href='javascript:void(0);' class='"+e.closeIcon+"'></a></div><div class='"+e.headerRight+"'></div><div class='clear'></div>";if(!settings.hideFooter){f="<a href='javascript:void(0);'><span>"+settings.okText+"</span><span class='"+e.buttonRight+"'></span></a><a href='javascript:void(0);'><span>"+settings.cancelText+"</span><span class='"+e.buttonRight+"'></span></a>"}var g="<div id='"+d+"Dialog' class='"+e.panel+"' style='width: "+(width+26)+"px;' onselectstart='return false;'><div>"+headerHTML+"</div><div class='"+e.main+"'><div style='overflow: auto; height: "+height+"px; width: "+width+"px;'></div><div class='"+e.footer+"'>"+f+"</div><div class='clear'></div></div>";var h="";if(settings.modal&&$("."+e.background).length===0){var i=$(window).height()<$("body").height()?$("body").height():$(window).height();h="<div style='height:"+i+"px;' class='"+e.background+"'></div>"}$("#"+d).wrap("<div id='"+d+"Wrap'></div>");var j=$(b).clone(true);$(b).remove();$('body').append(h+g);$($("#"+d+"Dialog ."+e.main+" div").get(0)).append(j);$(j).show();var k="",left="",$dialog=$("#"+d+"Dialog");if(settings.position){k=settings.position.top;left=settings.position.left}else{k=($(window).height()-$dialog.height())/2;left=($(window).width()-$dialog.width())/2}$dialog.css({"top":k+"px","left":left+"px"});$("#"+d+"Dialog ."+e.closeIcon).bind("click",function(){$.dialog._close(d,settings)});var l=$("#"+d+"Dialog ."+e.footer+" a");$(l.get(1)).bind("click",function(){$.dialog._close(d,settings)});$(l.get(0)).bind("click",function(){if(settings.ok===undefined||settings.ok()){$.dialog._close(d,settings)}});this._bindMove(d,e.headerBg,height,width);$(window).resize(function(){var a=$(window).height()<document.documentElement.clientHeight?document.documentElement.clientHeight:$(window).height();$("."+e.background).height(a)})},_bindMove:function(f,g){$("#"+f+"Dialog ."+g).mousedown(function(c){var d=document;if(!c){c=window.event}var e=document.getElementById(f+"Dialog");var x=c.clientX-parseInt(e.style.left),y=c.clientY-parseInt(e.style.top);d.ondragstart="return false;";d.onselectstart="return false;";d.onselect="document.selection.empty();";if(this.setCapture){this.setCapture()}else if(window.captureEvents){window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP)}d.onmousemove=function(a){if(!a){a=window.event}var b=a.clientX-x,positionY=a.clientY-y;if(b<0){b=0}if(b>$(window).width()-$(e).width()){b=$(window).width()-$(e).width()}if(positionY<0){positionY=0}if(positionY>$(window).height()-$(e).height()){positionY=$(window).height()-$(e).height()}e.style.left=b+"px";e.style.top=positionY+"px"};d.onmouseup=function(){if(this.releaseCapture){this.releaseCapture()}else if(window.captureEvents){window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP)}d.onmousemove=null;d.onmouseup=null;d.ondragstart=null;d.onselectstart=null;d.onselect=null}})},_close:function(a,b){if(b.close===undefined||b.close()){$("#"+a+"Dialog").hide();if(b.modal){var c=this._getDefaults($.dialog._defaults,b,"styleClass");$("."+c.background).hide()}}},_closeDialog:function(a){var b=this._getInst(a);var c=b.id,settings=b.settings;$.dialog._close(c,settings)},_openDialog:function(a){var b=this._getInst(a);var c=b.id,settings=b.settings;$("#"+c+"Dialog").show();if(settings.modal){var d=this._getDefaults($.dialog._defaults,settings,"styleClass");$("."+d.background).show()}},_updateDialog:function(a,b){var c=this._getInst(a);var d=c.id,settings=c.settings;var e=this._getDefaults($.dialog._defaults,settings,"styleClass");$.extend(settings,b);var f=$("#"+d+"Dialog");if(b.position){f.css({"top":b.position.top,"left":b.position.left})}if(b.width){f.width(b.width+26);f.find("."+e.main+" div")[0].style.width=b.width+"px";f.find("."+e.headerBg).width(b.width+18)}if(b.height){f.find("."+e.main+" div")[0].style.height=b.height+"px"}if(b.title){f.find("."+e.title).html(b.title)}if(b.modal!==undefined){if(b.modal){$("."+e.background).show()}else{$("."+e.background).hide()}}if(b.hideFooter!==undefined){if(b.hideFooter){f.find("."+e.footer).hide()}else{f.find("."+e.footer).show()}}},_getDefaults:function(a,b,c){if(c==="styleClass"){if(b.theme==="default"||b.theme===undefined){return a.styleClass}b.styleClass={};for(var d in a[c]){b.styleClass[d]=b.theme+"-"+a.styleClass[d]}}else if(c==="height"||c==="width"){if(b[c]===null||b[c]===undefined){return"auto"}else{return b[c]+"px"}}else{if(b[c]===null||b[c]===undefined){return a[c]}}return b[c]}});$.fn.dialog=function(a){var b=Array.prototype.slice.call(arguments);if(typeof a==='string'){b.shift();return $.dialog['_'+a+'Dialog'].apply($.dialog,[this[0]].concat(b))}return this.each(function(){$.dialog._attach(this,a)})};$.dialog=new o();window['DP_jQuery_'+m]=$})(jQuery);
(function($){$.fn.extend({completed:{version:"0.0.0.8",author:"lly219@gmail.com"}});var j=new Date().getTime();var k='completed';var l=function(){this._defaults={"styleClass":{"panelClass":"completed-panel"},separator:","},this._settingsDataFormat={}};$.extend(l.prototype,{_attach:function(a,b){if(!a.id){this.uuid++;a.id='dp'+this.uuid}var c=this._newInst($(a));c.settings=$.extend({},b||{});$.data(a,k,c);this._init(a)},_newInst:function(a){var b=a[0].id.replace(/([^A-Za-z0-9_])/g,'\\\\$1');return{id:b}},_getInst:function(a){try{return $.data(a,k)}catch(err){throw'Missing instance data for this completed';}},_destroyCompleted:function(){},_init:function(b){var c=this._getInst(b);var d=c.id,settings=c.settings,height=settings.height+"px";var e=$("#"+d);var f="<div id='"+d+"Panel' class='"+this._getDefaults($.completed._defaults,settings,"styleClass").panelClass+"' style='height:"+height+";'></div>";settings.data.sort();e.after(f).bind("keyup focus",{settings:settings},this._keyupAction);var g=$("#"+d+"Panel");settings.tipNum=0;g.width(e.width()-parseInt(g.css("padding-top"))-parseInt(g.css("padding-bottom"))).mouseover(function(){g.find("a").removeClass()});$(document).click(function(a){if(a.target.id!==d){g.hide()}})},_keyupAction:function(a){var b=a.data.settings,currentWordObj=$.completed._getCurrentWord(this,b);var c=$.completed._getMatchData(b.data,this.value,currentWordObj.currentWord);if(a.keyCode===38&&b.tipNum>0){b.tipNum--}if(a.keyCode===40&&b.tipNum<c.length-1){b.tipNum++}if(a.keyCode===13){$("#"+this.id+"Panel a").each(function(i){if(this.className==="selected"){b.tipNum=i}});if(c[b.tipNum]){var d=$.completed._defaults.separator;if(currentWordObj.currentWord===""){this.value=this.value+c[b.tipNum]+d}else{var e=this.value;this.value=e.substring(0,currentWordObj.startPos)+c[b.tipNum]+e.substring(currentWordObj.endPos,e.length)}c.splice(b.tipNum,1);b.tipNum=0}$(this).focus()}$.completed._buildPanel(this.id,c,b)},_getCurrentWord:function(a,b){var c=$(a).val(),tag=true,endPos=0,startPos=0,separator=$.completed._defaults.separator;if(c===""){return{currentWord:"",startPos:startPos,endPos:endPos}}if(document.selection){try{var d=document.selection.createRange();var f=a.createTextRange();f.collapse(true);f.select();var g=document.selection.createRange();g.setEndPoint("EndToEnd",d);b.curPos=g.text.length;d.select()}catch(e){delete e}}else{b.curPos=a.selectionStart}var h=b.curPos;for(var i=0;i<c.length;i++){if(c.charAt(i)===separator){if(i>=h&&tag){endPos=i;tag=false}}}if(tag===true){tag=false;endPos=c.length}for(var j=endPos;j>-1;j--){if(c.charAt(j)===separator){if(j<h&&!tag){startPos=j+1;tag=true}}}return{currentWord:c.substring(startPos,endPos),startPos:startPos,endPos:endPos}},_getMatchData:function(a,b,c){var d=b.split($.completed._defaults.separator);var e=[];for(var i=0;i<a.length;i++){if(typeof a[i]==="number"){a[i]=a[i].toString()}if(a[i].toLowerCase().indexOf(c.toLowerCase())>-1){e.push(a[i])}}for(var j=0;j<e.length;j++){for(var k=0;k<d.length;k++){if(e[j]===d[k].toString()){e.splice(j,1);j--}}}return e},_buildPanel:function(f,g,h){var j=$("#"+f+"Panel");if(g.length===0){j.html("").hide();return}var k="";for(var i=0;i<g.length;i++){if(h.tipNum===i){k+="<a href='javascript:void(0);'                                         onmouseout=\"this.className=''\"                                         onmousemove=\"this.className='selected'\" class='selected'>"+g[i]+"</a>"}else{k+="<a href='javascript:void(0);'                                         onmouseout=\"this.className=''\"                                         onmousemove=\"this.className='selected'\">"+g[i]+"</a>"}}j.html(k).show();var l=$("#"+f+"Panel a.selected");if(l.position().top+j.scrollTop()>50-l.height()){j.scrollTop(l.position().top+j.scrollTop()+l.height()-50)}if(l.position().top<0){j.scrollTop(j.scrollTop-l.height())}$("#"+f+"Panel a").click(function(){var a=document.getElementById(f);var b=$.completed._getCurrentWord(document.getElementById(f),h);var c=$.completed._getMatchData(h.data,a.value,b.currentWord);$("#"+f+"Panel a").each(function(i){if(this.className==="selected"){h.tipNum=i}});if(c[h.tipNum]){var d=$.completed._defaults.separator;if(b.currentWord===""){a.value=a.value+c[h.tipNum]+d}else{var e=a.value;a.value=e.substring(0,b.startPos)+c[h.tipNum]+e.substring(b.endPos,e.length)}c.splice(h.tipNum,1);h.tipNum=0}$.completed._buildPanel(f,c,h)})},_getDefaults:function(a,b,c){if(c==="styleClass"){if(b.theme==="default"||b.theme===undefined){return a.styleClass}b.styleClass={};for(var d in a[c]){b.styleClass[d]=b.theme+"-"+a.styleClass[d]}}else if(c==="height"||c==="width"){if(b[c]===null||b[c]===undefined){return"auto"}else{return b[c]+"px"}}else{if(b[c]===null||b[c]===undefined){return a[c]}}return b[c]}});$.fn.completed=function(a){var b=Array.prototype.slice.call(arguments);return this.each(function(){typeof a=='string'?$.completed['_'+a+'Completed'].apply($.completed,[this].concat(b)):$.completed._attach(this,a)})};$.completed=new l();window['DP_jQuery_'+j]=$})(jQuery);
(function($){$.fn.extend({tip:{version:"0.0.0.3",author:"lly219@gmail.com"}});var f=new Date().getTime();var g='tip';var h=function(){this._defaults={"styleClass":{"panel":"tip-panel"}},this._settingsDataFormat={}};$.extend(h.prototype,{_attach:function(a,b){if(!a.id){this.uuid++;a.id='dp'+this.uuid}var c=this._newInst($(a));c.settings=$.extend({},b||{});$.data(a,g,c);this._init(a)},_newInst:function(a){var b=a[0].id.replace(/([^A-Za-z0-9_])/g,'\\\\$1');return{id:b}},_getInst:function(a){try{return $.data(a,g)}catch(err){throw'Missing instance data for this tip.';}},_destroyTip:function(a){$.removeData(a,g);$("#"+a.id+"Panel").remove()},_init:function(a){var b=this._getInst(a);var c=b.id,settings=b.settings;var d='',styleClass=settings.className?settings.className:this._getDefaults($.tip._defaults,settings,"styleClass").panel;d="<div id='"+c+"Panel' class='"+styleClass+"'>"+settings.content+"</div>";$(settings.appendId?"#"+settings.appendId:"body").append(d);$(a).hover(function(){$.tip._parsePosition(settings,a);$("#"+c+"Panel").fadeIn("normal")},function(){$("#"+c+"Panel").fadeOut("normal")})},_optionTip:function(a,b,c){var d=$.tip._getInst(a[0]);var e=d.settings;if(c){e[b]=c;$("#"+a[0].id+"Panel").html(c)}return e[b]},_parsePosition:function(a,b){var c="",$targetPanel=$("#"+b.id+"Panel");if(a.left===undefined&&a.right===undefined&&a.bottom===undefined&&a.top===undefined&&a.position===undefined){a.position="bottom"}if(a.position){var d=$(b);switch(a.position){case"top":c="left: "+parseInt(d.position().left)+"px; top: "+parseInt(d.position().top-$targetPanel.height()-6-parseInt(d.css("padding-top"))-parseInt($targetPanel.css("padding-top")))+"px;";break;case"bottom":c="left: "+parseInt(d.position().left)+"px; top: "+parseInt(d.position().top+d.height())+"px;";break;default:alert("Has no type!");break}$targetPanel.attr("style",c);return}if(a.left!==undefined){c+="left:"+a.left+"px;"}if(a.top!==undefined){c+="top:"+a.top+"px;"}if(a.bottom!==undefined){c+="bottom:"+a.bottom+"px;"}if(a.right!==undefined){c+="right:"+a.right+"px;"}$targetPanel.attr("style",c)},_getDefaults:function(a,b,c){if(c==="styleClass"){if(b.theme==="default"||b.theme===undefined){return a.styleClass}b.styleClass={};for(var d in a[c]){b.styleClass[d]=b.theme+"-"+a.styleClass[d]}}else if(c==="height"||c==="width"){if(b[c]===null||b[c]===undefined){return"auto"}else{return b[c]+"px"}}else{if(b[c]===null||b[c]===undefined){return a[c]}}return b[c]}});$.fn.tip=function(a){var b=Array.prototype.slice.call(arguments);if(a==="option"){b.shift();return $.tip['_'+a+'Tip'].apply($.tip,[this].concat(b))}return this.each(function(){typeof a=='string'?$.tip['_'+a+'Tip'].apply($.tip,[this].concat(b)):$.tip._attach(this,a)})};$.tip=new h();window['DP_jQuery_'+f]=$})(jQuery);
(function($){$.fn.extend({tabs:{version:"0.0.1.6",author:"lly219@gmail.com"}});var m=new Date().getTime();var n='tabs';var o=function(){this._defaults={"styleClass":{"leftSelected":"tabs-left-selected","rightSelected":"tabs-right-selected","left":"tabs-left","right":"tabs-right","leftSelectedRight":"tabs-left-selected-right","leftRight":"tabs-left-right","leftRightSelected":"tabs-left-right-selected","middle":"tabs-middle","middleSelected":"tabs-middle-selected","nav":"tabs-nav","content":"tabs-content","tabsBG":"tabs-tabs-bg","closeIcon":"tabs-close-icon","hover":"tabs-hover"}}};$.extend(o.prototype,{_attach:function(a,b){if(!a.id){this.uuid++;a.id='dp'+this.uuid}var c=this._newInst($(a));c.settings=$.extend({length:0},b||{});$.data(a,n,c);this._init(a)},_newInst:function(a){var b=a[0].id.replace(/([^A-Za-z0-9_])/g,'\\\\$1');return{id:b}},_getInst:function(a){try{return $.data(a,n)}catch(err){throw'Missing instance data for this tabs';}},_init:function(a){var b=this._getInst(a);var c=b.id,settings=b.settings;var d=this._getDefaults(this._defaults,settings,"styleClass"),$tabs=undefined;a.className=d.tabsBG;if(settings.data){var e=settings.height?" style='height:"+settings.height+"px;'":"";a.innerHTML="<ul class='"+d.nav+"'></ul>";$(a).after("<div id='"+c+"Content' class='"+d.content+"'"+e+"></div>");this._buildHTML(a);$tabs=$(a).find("li")}else{$tabs=$(a).find("li");settings.data=[];$(a).find("ul").addClass(d.nav);var f=$("#"+c+"Content div"),$tabsContent=$("#"+c+"Content");$tabsContent.addClass(d.content);if(settings.height){$tabsContent.height(settings.height)}for(var i=0;i<$tabs.length;i++){settings.data[i]={};settings.data[i].text=$tabs.get(i).innerHTML;settings.data[i].content=f.get(i).innerHTML;settings.data[i].id=$($tabs.get(i).children[0]).data("index");if(i!==$tabs.length-1){$tabs.get(i).innerHTML="<div></div>"+$tabs.get(i).innerHTML}else{$tabs.get(i).innerHTML="<div></div>"+$tabs.get(i).innerHTML+"<div></div>"}}}this._setCurrentTab(a,settings.data[0].id);this._changeTab(a,$tabs);this._close(a,$tabs);this._bindEvent(a,$tabs);if(typeof(settings.load)==="function"){settings.load()}},_buildHTML:function(a){var b=this._getInst(a);var c=b.settings,id=b.id;var d=c.data,tabsHTML="",contentsHTML="";for(var i=0;i<d.length;i++){var e={};e=this._buildTabPanelHTML(a,d[i]);tabsHTML+=e.tabHTML;contentsHTML+=e.contentHTML}$(a).find("ul").html(tabsHTML);$("#"+id+"Content").html(contentsHTML)},_buildTabPanelHTML:function(a,b){var c=this._getInst(a);var d=c.settings,id=c.id,styleClass=this._getDefaults(this._defaults,d,"styleClass");var e=d.data;var f="",contentHTML="",lastHTML="",text=b.text;var g=b.alt?b.alt:b.text;if(b.altCount&&b.altCount<text.length&&text.indexOf("</")<0){text=text.substr(0,b.altCount)+"..."}text+=b.button?"<span id='"+id+"_"+b.id+"_button'>"+b.button+"</span>":"";if(e[e.length-1].id===b.id.toString()){lastHTML="<div></div>"}if(b.isClose){f="<li><div></div><div data-index='"+b.id+"' title='"+g+"'><span class='left'>"+text+"</span><a  href='javascript:void(0);' class='"+styleClass.closeIcon+"'></a></div>"+lastHTML+"</li>"}else{f="<li><div></div><div data-index='"+b.id+"' title='"+g+"'>"+text+"</div>"+lastHTML+"</li>"}var h=id+"_"+b.id;var i=b.content;if(b.url){var j=this._calculateIframeHeight(d.height,id);i="<iframe id='"+h+"_iframe' src='"+b.url+"' frameborder='0' width='100%' height='"+j+"' style='height:"+j+";'></iframe>"}contentHTML="<div id='"+h+"'>"+i+"</div>";return{"tabHTML":f,"contentHTML":contentHTML}},_changeTab:function(a,b,c){if(c!==undefined){$(b.get(c)).bind("click",function(){$.tabs._changeTabFunction(this,a)}).mouseover(function(){this.className="hover"}).mouseout(function(){this.className=""})}else{b.each(function(){$(this).bind("click",function(){$.tabs._changeTabFunction(this,a)})}).mouseover(function(){this.className="hover"}).mouseout(function(){this.className=""})}},_changeTabFunction:function(a,b){var c=this._getInst(b);var d=this._getDefaults(this._defaults,c.settings,"styleClass");var e=$($(a).find("div")[1]);if(e.hasClass(d.middleSelected)){return}this._setCurrentTab(b,e.data("index"))},_setCurrentTab:function(a,b){var c=this._getInst(a);var d=c.settings;var e=d.data,styleClass=this._getDefaults(this._defaults,d,"styleClass"),$tabs=$(a).find("li");for(var i=0;i<e.length;i++){var f=$("#"+a.id+"_"+e[i].id);$("#"+c.id+"_"+e[i].id+"_button").hide();if(b.toString()===e[i].id){if(i===0){$tabs.get(i).children[0].className=styleClass.leftSelected;if(e.length===1){$tabs.get(i).children[2].className=styleClass.rightSelected}}else if(i===e.length-1){$tabs.get(i).children[0].className=styleClass.leftRightSelected;$tabs.get(i).children[2].className=styleClass.rightSelected}else{$tabs.get(i).children[0].className=styleClass.leftRightSelected}$tabs.get(i).children[1].className=styleClass.middleSelected;if(e[i].reload&&!e[i].content){document.getElementById(e[i].id+"Iframe").contentWindow.location.href=e[i].url}f.show();$("#"+c.id+"_"+e[i].id+"_button").show()}else{if(i===0){$tabs.get(i).children[0].className=styleClass.left}else{if(b.toString()===e[i-1].id){$tabs.get(i).children[0].className=styleClass.leftSelectedRight}else{$tabs.get(i).children[0].className=styleClass.leftRight}if(i===e.length-1){$tabs.get(i).children[2].className=styleClass.right}}$tabs.get(i).children[1].className=styleClass.middle;f.hide()}}},_bindEvent:function(b,c,d){var e=this._getInst(b);var f=e.settings;var g=f.bind,data=f.data;if(f.bind){if(d!==undefined){for(var l=0;l<g.length;l++){$(c.get(d)).bind(g[l].type,{data:data[d],index:l},function(a){g[a.data.index].action(a,a.data.data)})}}else{for(var i=0;i<data.length;i++){for(var j=0;j<g.length;j++){$(c.get(i)).bind(g[j].type,{data:data[i],index:j},function(a){g[a.data.index].action(a,a.data.data)})}}}}},_close:function(b,c,d){var e=this._getInst(b);var f=this._getDefaults(this._defaults,e.settings,"styleClass");if(d!==undefined){$(c[d]).find("."+f.closeIcon).bind("click",function(a){$.tabs._closeFunction(b,$(a.currentTarget.parentNode).data("index"))})}else{c.find("."+f.closeIcon).bind("click",function(a){$.tabs._closeFunction(b,$(a.currentTarget.parentNode).data("index"))})}},_closeFunction:function(a,b){var c=this._getInst(a);var d=c.settings;var e=d.data,styleClass=this._getDefaults(this._defaults,c.settings,"styleClass"),$tabs=$(a).find("li");var f=this._getIndexById(e,b.toString());if(typeof(d.close)==="function"){if(!d.close(e[f])){return}}$("#"+a.id+"_"+b).remove();var g=$($($tabs.get(f-1)).find("div")[1]);if(f===e.length-1){if(g.hasClass(styleClass.middleSelected)){g.after("<div class='"+styleClass.rightSelected+"'></div>")}else{g.after("<div class='"+styleClass.right+"'></div>")}}if(f===e.length-2&&g.hasClass(styleClass.middleSelected)){$tabs.get(f+1).children[0].className=styleClass.leftSelectedRight}$($tabs.get(f)).remove();e.splice(f,1);if($($($tabs.get(f)).find("div")[1]).hasClass(styleClass.middleSelected)){if(f===0){f++}this._setCurrentTab(a,e[f-1].id)}if(b.currentTarget){b.stopPropagation()}},_getDefaults:function(a,b,c){if(c==="styleClass"){if(b.theme==="default"||b.theme===undefined){return a.styleClass}b.styleClass={};for(var d in a[c]){b.styleClass[d]=a.styleClass[d]+"-"+b.theme}}else if((c==="height"&&b[c]!=="auto")||c==="width"){if(b[c]===null||b[c]===undefined){return a[c]+"px"}else{return b[c]+"px"}}else{if(b[c]===null||b[c]===undefined){return a[c]}}return b[c]},_calculateIframeHeight:function(a,b){var c=$("#"+b+"Content");var d=c.css("padding-top"),paddingBottom=c.css("padding-bottom");return a-parseInt(d)-parseInt(paddingBottom)+"px"},_getIndexById:function(a,b){for(var i in a){if(a[i].id===b){return parseInt(i)}}},_addTabs:function(a,b){var c=this._getInst(a);var d=c.settings;var e=d.data;b.id=b.id.replace(/(^\s*)|(\s*$)/g,"").toString();var f=e.length;if(typeof(d.add)==="function"){var g=d.add(b);if(!g){return}}if(d.size){if(e.length>=d.size){alert("对不起，只能打开"+d.size+"个窗口");return}}for(var i=0;i<e.length;i++){if(e[i].id===b.id){this._setCurrentTab(a,b.id);return}}d._count++;e.splice(f,0,b);if(b.id){e[f].id=b.id}else{e[f].id=c.id+"Content"+d._count}var h=this._buildTabPanelHTML(a,e[f]);if(e.length-1===f){$(a).find("ul li div").last().remove()}if(f===0){$($(a).find("li").get(f)).before(h.tabHTML)}else{$($(a).find("li").get(f-1)).after(h.tabHTML)}$("#"+c.id+"Content").append(h.contentHTML);var j=$(a).find("li");this._setCurrentTab(a,e[f].id);this._changeTab(a,j,f);this._close(a,j,f);this._bindEvent(a,j,f)},_lengthTabs:function(a){var b=this._getInst(a);return b.settings.data.length},_selectTabs:function(a,b){this._setCurrentTab(a,b)},_removeTabs:function(a,b){var c=this._getInst(a);var d=c.settings,styleClass=this._getDefaults(this._defaults,d,"styleClass");var e=$(a).find("li");if(d.closeSyn){e.find("#"+b+" ."+styleClass.closeIcon).click()}else{this._closeFunction(a,b)}},_getTabTabs:function(b,c,d){var e=this._getInst(b);var f=e.settings;var g=f.data,styleClass=this._getDefaults(this._defaults,f,"styleClass"),currentData={},index=0;if(c){index=this._getIndexById(g,c);currentData=g[index]}else{$(b).find("li").each(function(k){var a=$(this);if($(a.find("div")[1]).hasClass(styleClass.middleSelected)){currentData=g[k];index=k}})}if(d){index=parseInt(index);switch(d){case"next":if(index<g.length-1){currentData=g[index+1]}break;case"pre":if(index>0){currentData=g[index-1]}break;default:alert("get tab error, has no type!");break}}return currentData},_destroyTabs:function(a){var b=$(a);var c=this._getInst(a);var d=c.settings,styleClass=this._getDefaults(this._defaults,d,"styleClass");$.removeData(a,n);b.removeClass(styleClass.tabsBG).empty();$("#"+c.id+"Content").remove()},_updateTabs:function(a,b,c){var d=this._getInst(a);var e=d.settings,$tabs=$(a).find("li");var f=e.data;if(c===undefined){$.extend(e,b);$("#"+a.id+"Content").height(b.height);var g=e.data;for(var j=0;j<g.length;j++){var h=$("#"+d.id+"_"+g[j].id+"_iframe");if(g[j].url&&h.length===1){h.height(b.height);h.attr("height",b.height)}}return}var i=this._getIndexById(f,c);var k=b.altCount?b.altCount:f[i].altCount,url=b.url?b.url:f[i].url,text=b.text?b.text:f[i].text,alt=text,$tabPanel=$("#"+d.id+"_"+f[i].id);if(k<text.length&&text.indexOf("</")<0){text=text.substr(0,k)+"..."}if(f[i].close){$($($tabs[i]).find("span")[0]).html(text).attr("title",alt)}else{$($($tabs.get(i)).find("div")[1]).html(text).attr("title",alt)}if(b.content){$tabPanel.html(b.content)}else{$("#"+d.id+"_"+f[i].id+"_iframe").attr("src",url).width($tabPanel.width());setTimeout(function(){$("#"+d.id+"_"+f[i].id+"_iframe").width("100%")},500)}$.extend(f[i],b)},_bindTabs:function(a,b,c){var d=this._getInst(a);var e=d.settings.data,index=this._getIndexById(e,c);e[index].bind=b;var f=$($(a).find("li").get(index));for(var i=0;i<b.length;i++){f.bind(b[i].type,{data:e[index]},b[i].action)}},_unbindTabs:function(a,b,c){var d=this._getInst(a);var e=this._getIndexById(d.settings.data,c),bindData=d.settings.data[e].bind;for(var i in bindData){if(bindData[i].type===b){$($(a).find("li").get(e)).unbind(b,bindData[i].action)}}}});$.fn.tabs=function(a){var b=Array.prototype.slice.call(arguments);if(typeof a==='string'){b.shift();return $.tabs['_'+a+'Tabs'].apply($.tabs,[this[0]].concat(b))}return this.each(function(){$.tabs._attach(this,a)})};$.tabs=new o();window['DP_jQuery_'+m]=$})(jQuery);           