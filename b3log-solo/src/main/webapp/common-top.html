<div id="top">
    <a href="http://b3log-solo.googlecode.com" class="logo" target="_blank">
        <span style="color: orange;">B</span>
        <span style="color: blue;">3</span>
        <span style="color: green;">L</span>
        <span style="color: red;">O</span>
        <span style="color: blue;">G</span>&nbsp;
        <span style="color: orangered; font-weight: bold;">Solo</span>
    </a>
    <span class="right">
        <span id="admin"></span>
    </span>
    <div class="clear"></div>
</div>
<script type="text/javascript">
    var setLoginState = function () {
        var isAdminLoggedIn = jsonRpc.adminService.isAdminLoggedIn();
        if (isAdminLoggedIn) {
            var loginHTML = "<span class='noUnderline' onclick='adminLogout();'>${logoutLabel}</span>&nbsp;|&nbsp;"
                + "<a class='noUnderline' href='#' onclick='clearAllCache();'>${clearAllCache}</a>&nbsp;|&nbsp;"
                + "<a class='noUnderline' href='#' onclick='clearCache();'>${clearCache}</a>&nbsp;|&nbsp;"
                + "<a class='noUnderline' href='admin-index.do'>${adminLabel}</a>&nbsp;|&nbsp;"
                + "<a class='noUnderline' href='index.do'>${indexLabel}</a>"
            $("#admin").append(loginHTML);
        } else {
            $("#admin").append("<span class='noUnderline' onclick='adminLogin();'>${loginLabel}</span>");
        }
    }

    setLoginState();

    var clearCache = function () {
        var locationString = window.location.toString();
        var cachedPageKey = locationString.substring(locationString.lastIndexOf("/"), locationString.length);
        jsonRpc.adminService.clearPageCache(cachedPageKey);
        window.location.reload();
    }

    var clearAllCache = function () {
        jsonRpc.adminService.clearAllPageCache();
        window.location.reload();
    }

    var adminLogin = function () {
        var loginURL = jsonRpc.adminService.getLoginURL();
        window.location.href = loginURL;
    }

    var adminLogout = function () {
        var logoutURL = jsonRpc.adminService.getLogoutURL();
        window.location.href = logoutURL;
    }
</script>